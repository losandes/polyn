/*! polyn-build 2015-07-09 */
!function(a){"use strict";var b={name:"polyn.Blueprint",dependencies:["polyn.utils","polyn.is","polyn.id"],factory:void 0};b.factory=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n={errors:{blueprint:{requiresImplementation:"An implementation is required to create a new instance of an interface",requiresProperty:"The implementation is missing a required property ",requiresArguments:"The implementation of this function requires arguments ",missingConstructorArgument:"An object literal is required when constructing a Blueprint",reservedPropertyName_singatureMatches:"signatureMatches is a reserved property name for Blueprints",missingSignatureMatchesImplementationArgument:"A first argument of an object that should implement an interface is required",missingSignatureMatchesCallbackArgument:"A callback function is required as the second argument to signatureMatches"}}};return e=function(a,b,c){var d;a.__interfaces=a.__interfaces||{},d=function(d,e){d||(a.__interfaces[b.__blueprintId]=!0),"function"==typeof c&&c(d,e)},g(a,b,d)},f=function(a,b){var c;return a.__interfaces=a.__interfaces||{},c=h(a,b),c.result&&(a.__interfaces[b.__blueprintId]=!0),c},g=function(a,b,c){var d=h(a,b);d.result?c(null,!0):c(d.errors,!1)},h=function(a,b){var c,d=[];if(a.__interfaces[b.__blueprintId])return{errors:null,result:!0};for(c in b)b.hasOwnProperty(c)&&"__blueprintId"!==c&&"signatureMatches"!==c&&i(a,c,b[c],d);return d.length>0?{errors:d,result:!1}:{errors:null,result:!0}},i=function(a,c,d,e){b.string(d)?k(a,c,d,e):b.object(d)&&j(a,c,d,d.type,e)},j=function(a,c,d,e,f){if(b["function"](d.validate))d.validate(a[c],f);else switch(e){case"function":k(a,c,e,f),l(a,c,d.args,f);break;case"decimal":m(a,c,d.places,f);break;default:k(a,c,e,f)}},k=function(a,c,d,e){if(b["function"](b.not[d])&&b.not[d](a[c])){var f=n.errors.blueprint.requiresProperty;f+="@property: "+c,f+=" ("+d+")",e.push(f)}},l=function(a,c,d,e){var f=b.array(d);f=f&&d.length>0,f=f&&b["function"](a[c]),f=f&&a[c].length===d.length,f||e.push(n.errors.blueprint.requiresArguments+"("+d.join(", ")+")")},m=function(a,c,d,e){if(b.not.decimal(a[c],d)){var f=n.errors.blueprint.requiresProperty;f+="@property: "+c,f+=" (decimal with "+d+" places)",e.push(f)}},d=function(d){var g,h=this;if(b.not.defined(d)||b.not.object(d))throw new Error(n.errors.blueprint.missingConstructorArgument);for(g in d)if(d.hasOwnProperty(g)){if("signatureMatches"===g)throw new Error(n.errors.blueprint.reservedPropertyName_singatureMatches);h[g]=d[g]}b.not.string(h.__blueprintId)&&(h.__blueprintId=c.createUid(8)),h.signatureMatches=function(c,d){if(b.not.defined(c))return void d([n.errors.blueprint.missingSignatureMatchesImplementationArgument]);if(b.not["function"](d))throw new Error(n.errors.blueprint.missingSignatureMatchesCallbackArgument);a.runAsync(function(){e(c,h,d)})},h.syncSignatureMatches=function(a){return b.not.defined(a)?{errors:[n.errors.blueprint.missingSignatureMatchesImplementationArgument],result:!1}:f(a,h)}}},"undefined"!=typeof Window&&a instanceof Window?a[b.name]=b.factory:"function"==typeof a.register?a.register(b):(a.name=b.name,a.dependencies=b.dependencies,a.factory=b.factory)}("undefined"!=typeof module&&module.exports?module.exports:Hilary&&Hilary.scope?Hilary.scope("polyn"):window),function(a){"use strict";var b={name:"polyn.exceptions",dependencies:["polyn.is"],factory:void 0};b.factory=function(a){return function(b){var c={makeException:void 0,makeArgumentException:void 0,makeNotImplementedException:void 0,throwException:void 0};return c.makeException=function(a,b,c){var d,e;return"object"==typeof a&&"string"==typeof a.message?(d=a.message,e=a):(d="string"==typeof b?b:a,e=new Error(d)),e.message=d,a!==d&&(e.name=a),c&&(e.data=c),e},c.makeArgumentException=function(a,b,d){var e="undefined"==typeof b?a:a+" (argument: "+b+")";return c.makeException("ArgumentException",e,d)},c.makeNotImplementedException=function(a,b){return c.makeException("NotImplementedException",a,b)},c.throwException=function(c){if(!a["function"](b))throw console.error(c),c;b(c)},c}},"undefined"!=typeof Window&&a instanceof Window?a[b.name]=b.factory:"function"==typeof a.register?a.register(b):(a.name=b.name,a.dependencies=b.dependencies,a.factory=b.factory)}("undefined"!=typeof module&&module.exports?module.exports:Hilary&&Hilary.scope?Hilary.scope("polyn"):window),function(a){"use strict";var b={name:"polyn.id",dependencies:[],factory:void 0};b.factory=function(){var a,b={createUid:void 0,createGuid:void 0};return a=function(a){return a.replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},b.createUid=function(b){var c;return b=b||12,c=new Array(b+1).join("x"),a(c)},b.createGuid=function(){return a("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},b},"undefined"!=typeof Window&&a instanceof Window?a[b.name]=b.factory:"function"==typeof a.register?a.register(b):(a.name=b.name,a.dependencies=b.dependencies,a.factory=b.factory)}("undefined"!=typeof module&&module.exports?module.exports:Hilary&&Hilary.scope?Hilary.scope("polyn"):window),function(a){"use strict";var b={name:"polyn.is",dependencies:[],factory:void 0};b.factory=function(){var a,b,c={getType:void 0,defined:void 0,nullOrUndefined:void 0,"function":void 0,object:void 0,array:void 0,string:void 0,"boolean":void 0,datetime:void 0,regexp:void 0,number:void 0,nullOrWhitespace:void 0,money:void 0,decimal:void 0,Window:void 0,not:{defined:void 0,"function":void 0,object:void 0,array:void 0,string:void 0,"boolean":void 0,datetime:void 0,regexp:void 0,number:void 0,nullOrWhitespace:void 0,money:void 0,decimal:void 0,Window:void 0}},d={},e=["Boolean","Number","String","Function","Array","Date","RegExp","Object"];for(a=0;a<e.length;a+=1)b=e[a],d["[object "+b+"]"]=b.toLowerCase();return c.getType=function(a){return"undefined"==typeof a?"undefined":null===a?String(a):"object"==typeof a||"function"==typeof a?d[Object.prototype.toString.call(a)]||"object":typeof a},c.defined=function(a){try{return"undefined"!==c.getType(a)}catch(b){return!1}},c.not.defined=function(a){return c.defined(a)===!1},c.nullOrUndefined=function(a){return c.not.defined(a)||null===a},c.not.nullOrWhitespace=function(a){return"undefined"==typeof a||null===typeof a||c.not.string(a)?!1:/([^\s])/.test(a)},c.nullOrWhitespace=function(a){return c.not.nullOrWhitespace(a)===!1},c["function"]=function(a){return"function"===c.getType(a)},c.not["function"]=function(a){return c["function"](a)===!1},c.object=function(a){return"object"===c.getType(a)},c.not.object=function(a){return c.object(a)===!1},c.array=function(a){return"array"===c.getType(a)},c.not.array=function(a){return c.array(a)===!1},c.string=function(a){return"string"===c.getType(a)},c.not.string=function(a){return c.string(a)===!1},c["boolean"]=function(a){return"boolean"===c.getType(a)},c.not["boolean"]=function(a){return c["boolean"](a)===!1},c.datetime=function(a){return"date"===c.getType(a)},c.not.datetime=function(a){return c.datetime(a)===!1},c.regexp=function(a){return"regexp"===c.getType(a)},c.not.regexp=function(a){return c.regexp(a)===!1},c.number=function(a){return"number"===c.getType(a)},c.not.number=function(a){return c.number(a)===!1},c.money=function(a){return c.defined(a)&&/^(?:-)?[0-9]\d*(?:\.\d{0,2})?$/.test(a.toString())},c.not.money=function(a){return c.money(a)===!1},c.decimal=function(a,b){return c.not.number(a)?!1:!b&&c.number(a)?!0:a&&+(+a||0).toFixed(b)===+a?!0:!1},c.not.decimal=function(a){return c.decimal(a)===!1},c.Window=function(a){return c.is.defined(Window)&&a instanceof Window},c.not.Window=function(a){return c.is.Window(a)===!1},c},"undefined"!=typeof Window&&a instanceof Window?a[b.name]=b.factory:"function"==typeof a.register?a.register(b):(a.name=b.name,a.dependencies=b.dependencies,a.factory=b.factory)}("undefined"!=typeof module&&module.exports?module.exports:Hilary&&Hilary.scope?Hilary.scope("polyn"):window),function(a){"use strict";var b={name:"polyn.utils",dependencies:["polyn.is"],factory:void 0};b.factory=function(a){var b={runAsync:void 0};return b.runAsync=function(b,c){c===!0&&a.defined(process)&&a["function"](process.nextTick)?process.nextTick(b):setImmediate?setImmediate(b):setTimeout(b,0)},b},"undefined"!=typeof Window&&a instanceof Window?a[b.name]=b.factory:"function"==typeof a.register?a.register(b):(a.name=b.name,a.dependencies=b.dependencies,a.factory=b.factory)}("undefined"!=typeof module&&module.exports?module.exports:Hilary&&Hilary.scope?Hilary.scope("polyn"):window);