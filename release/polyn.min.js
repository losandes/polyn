/*! polyn 2016-11-20 */
!function(){"use strict";function a(){var a={runAsync:void 0};return a.runAsync=function(a,b){b===!0&&"undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick(a):setTimeout(a,0)},a}var b=a();"undefined"!=typeof module&&module.exports?module.exports=b:window?(window.polyn=window.polyn||{},Object.defineProperty(window.polyn,"async",{get:function(){return b},set:function(){var a=new Error("[POLYN] polyn modules are read-only");return console.log(a),a},enumerable:!0,configurable:!1})):console.log("[POLYN] Unable to define module: UNKNOWN RUNTIME")}(),function(){"use strict";function a(){var a,b={createUid:void 0,createGuid:void 0};return a=function(a){return a.replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},b.createUid=function(b){var c;return b=b||12,c=new Array(b+1).join("x"),a(c)},b.createGuid=function(){return a("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},b}var b=a();"undefined"!=typeof module&&module.exports?module.exports=b:window?(window.polyn=window.polyn||{},Object.defineProperty(window.polyn,"id",{get:function(){return b},set:function(){var a=new Error("[POLYN] polyn modules are read-only");return console.log(a),a},enumerable:!0,configurable:!1})):console.log("[POLYN] Unable to define module: UNKNOWN RUNTIME")}(),function(){"use strict";function a(){var a,b,c={getType:void 0,defined:void 0,nullOrUndefined:void 0,function:void 0,object:void 0,array:void 0,string:void 0,bool:void 0,boolean:void 0,date:void 0,datetime:void 0,regexp:void 0,number:void 0,nullOrWhitespace:void 0,money:void 0,decimal:void 0,Window:void 0,not:{defined:void 0,function:void 0,object:void 0,array:void 0,string:void 0,bool:void 0,boolean:void 0,date:void 0,datetime:void 0,regexp:void 0,number:void 0,nullOrWhitespace:void 0,money:void 0,decimal:void 0,Window:void 0}},d={},e=["Boolean","Number","String","Function","Array","Date","RegExp","Object"];for(a=0;a<e.length;a+=1)b=e[a],d["[object "+b+"]"]=b.toLowerCase();return c.getType=function(a){return"undefined"==typeof a?"undefined":null===a?String(a):"object"==typeof a||"function"==typeof a?d[Object.prototype.toString.call(a)]||"object":typeof a},c.defined=function(a){try{return"undefined"!==c.getType(a)}catch(a){return!1}},c.not.defined=function(a){return c.defined(a)===!1},c.nullOrUndefined=function(a){return c.not.defined(a)||null===a},c.not.nullOrWhitespace=function(a){return"undefined"!=typeof a&&null!==typeof a&&!c.not.string(a)&&/([^\s])/.test(a)},c.nullOrWhitespace=function(a){return c.not.nullOrWhitespace(a)===!1},c.function=function(a){return"function"===c.getType(a)},c.not.function=function(a){return c.function(a)===!1},c.object=function(a){return"object"===c.getType(a)},c.not.object=function(a){return c.object(a)===!1},c.array=function(a){return"array"===c.getType(a)},c.not.array=function(a){return c.array(a)===!1},c.string=function(a){return"string"===c.getType(a)},c.not.string=function(a){return c.string(a)===!1},c.bool=function(a){return"boolean"===c.getType(a)},c.not.bool=function(a){return c.boolean(a)===!1},c.boolean=function(a){return"boolean"===c.getType(a)},c.not.boolean=function(a){return c.boolean(a)===!1},c.datetime=function(a){return"date"===c.getType(a)&&c.function(a.getTime)&&!isNaN(a.getTime())},c.not.datetime=function(a){return c.datetime(a)===!1},c.date=c.datetime,c.not.date=c.not.datetime,c.regexp=function(a){return"regexp"===c.getType(a)},c.not.regexp=function(a){return c.regexp(a)===!1},c.number=function(a){return"number"===c.getType(a)},c.not.number=function(a){return c.number(a)===!1},c.money=function(a){return c.defined(a)&&/^(?:-)?[0-9]\d*(?:\.\d{0,2})?$/.test(a.toString())},c.not.money=function(a){return c.money(a)===!1},c.decimal=function(a,b){return!c.not.number(a)&&(!(b||!c.number(a))||!(!a||+(+a||0).toFixed(b)!==+a))},c.not.decimal=function(a){return c.decimal(a)===!1},c.Window=function(a){return c.defined(Window)&&a instanceof Window},c.not.Window=function(a){return c.Window(a)===!1},c}var b=a();"undefined"!=typeof module&&module.exports?module.exports=b:window?(window.polyn=window.polyn||{},Object.defineProperty(window.polyn,"is",{get:function(){return b},set:function(){var a=new Error("[POLYN] polyn modules are read-only");return console.log(a),a},enumerable:!0,configurable:!1})):console.log("[POLYN] Unable to define module: UNKNOWN RUNTIME")}(),function(){"use strict";function a(a){return"string"==typeof a?a:"Exception"}function b(a,b){if("object"==typeof a)return a;var c=b;return"string"==typeof b?(console.log(e),c=new Error(b)):b||(console.log(e),c=new Error("UNKNOWN")),c}function c(a,b){var c=[];return Array.isArray(b)?c=b:b?c.push(b):!b&&a&&a.message&&c.push(a.message),c}function d(d,e,f){var g=b(d,e);return{type:a(d),error:g,messages:c(g,f),isException:!0}}var e="[POLYN] EXCEPTION WARNING: You should always pass an Error to Exception, to preserver your stack trace";"undefined"!=typeof module&&module.exports?module.exports=d:window?(window.polyn=window.polyn||{},Object.defineProperty(window.polyn,"Exception",{get:function(){return d},set:function(){var a=new Error("polyn modules are read-only");return console.log(a),a},enumerable:!0,configurable:!1})):console.log("Unable to define module: UNKNOWN RUNTIME")}(),function(){"use strict";function a(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s={rememberValidation:!0,compatibility:"v0.3.0"},t={errors:{blueprint:{requiresImplementation:"An implementation is required to create a new instance of an interface",requiresProperty:"This implementation does not satisfy blueprint, {{blueprint}}. It should have the property, {{property}}, with type, {{type}}.",requiresArguments:"This implementation does not satisfy blueprint, {{blueprint}}. The function, {{property}}, is missing arguments",missingConstructorArgument:"An object literal is required when constructing a Blueprint",missingSignaturesMatchBlueprintArgument:"The `blueprint` argument is required",missingSignaturesMatchImplementationArgument:"The `implementation` argument is required",missingSignaturesMatchCallbackArgument:"The `callback` argument is required"}}};return f=function(a,b,c){var d;s.rememberValidation&&("v0.3.0"===s.compatibility?a.__interfaces=a.__interfaces||{}:a.__blueprints=a.__blueprints||{}),d=function(d,e){s.rememberValidation&&!d&&("v0.3.0"===s.compatibility?a.__interfaces[b.__blueprintId]=!0:a.__blueprints[b.__blueprintId]=!0),"function"==typeof c&&c(d,e)},h(a,b,d)},g=function(a,b){var c;return a.__interfaces=a.__interfaces||{},c=i(a,b),c.result&&(a.__interfaces[b.__blueprintId]=!0),c},h=function(b,c,d){a.runAsync(function(){var a=i(b,c);a.result?d(null,!0):d(a.errors,!1)})},i=function(a,b){var c,d=[];if(a.__interfaces[b.__blueprintId])return{errors:null,result:!0};for(c in b.props)b.props.hasOwnProperty(c)&&j(b.__blueprintId,a,c,b.props[c],d);return d.length>0?{errors:d,result:!1}:{errors:null,result:!0}},j=function(a,b,d,e,f){c.string(e)?l(a,b,d,e,f):c.object(e)&&k(a,b,d,e,e.type,f)},k=function(a,b,d,e,f,g){if(e.required!==!1||!c.not.defined(b[d])&&null!==b[d])if(c.function(e.validate))e.validate(b[d],g,b);else switch(f){case"blueprint":p(e.blueprint,b,d,g);break;case"function":l(a,b,d,f,g),e.args&&m(a,b,d,e.args,g);break;case"decimal":n(a,b,d,e.places,g);break;default:l(a,b,d,f,g)}},q=function(a,b,c,d){return a.replace(/{{blueprint}}/gi,b).replace(/{{property}}/gi,c).replace(/{{type}}/gi,d)},l=function(a,b,d,e,f){c.function(c.not[e])&&c.not[e](b[d])&&f.push(q(t.errors.blueprint.requiresProperty,a,d,e))},m=function(a,b,d,e,f){var g,h;if(g=c.array(e),g=g&&e.length>0,g=g&&c.function(b[d]),g=g&&b[d].length===e.length,!g){try{h=e.join(", ")}catch(a){h=e.toString()}f.push(q(t.errors.blueprint.requiresArguments,a,d,h))}},n=function(a,b,d,e,f){c.not.decimal(b[d],e)&&f.push(q(t.errors.blueprint.requiresProperty,a,d,"decimal with "+e+" places"))},o=function(a,b,d,e){c.function(c.not.boolean)&&c.not.boolean(b[d])&&e.push(q(t.errors.blueprint.requiresProperty,a,d,"boolean"))},p=function(a,b,c,d){var e,f=a.syncSignatureMatches(b[c]);if(!f.result)for(e=0;e<f.errors.length;e+=1)d.push(f.errors[e])},r=function(a,b,c){Object.defineProperty(a,b,{get:function(){return c},set:function(){var a=new d("ReadOnlyViolation",new Error(b+" is read-only"));return console.log(a),a},enumerable:!0,configurable:!1})},e=function(a){var d,f={},g={};a=a||{};for(d in a)a.hasOwnProperty(d)&&("__blueprintId"===d?r(f,"__blueprintId",a.__blueprintId):g[d]=a[d]);return c.not.string(f.__blueprintId)&&r(f,"__blueprintId",b.createUid(8)),r(f,"props",g),r(f,"validate",function(a,b){return e.validate(f,a,b)}),r(f,"signatureMatches",function(a,b){return e.validate(f,a,b)}),r(f,"syncSignatureMatches",function(a){return e.syncValidate(f,a)}),r(f,"inherits",function(a){return e.syncMerge([f,a])}),f},e.validate=function(b,d,g){return c.not.function(g)?e.syncValidate(b,d):c.not.defined(b)?void g([t.errors.blueprint.missingSignaturesMatchBlueprintArgument]):c.not.defined(d)?void g([t.errors.blueprint.missingSignaturesMatchImplementationArgument]):void a.runAsync(function(){f(d,b,g)})},e.syncValidate=function(a,b){return c.not.defined(a)?{errors:[t.errors.blueprint.missingSignaturesMatchBlueprintArgument],result:!1}:c.not.defined(b)?{errors:[t.errors.blueprint.missingSignaturesMatchImplementationArgument],result:!1}:g(b,a)},e.merge=function(b,c){return"function"!=typeof c?e.syncMerge(b):void a.runAsync(function(){c(null,e.syncMerge(b))})},e.syncMerge=function(a){var b,c,d=!0;if(!Array.isArray(a))return null;for(b=a.shift();d&&(d=a.shift());)for(c in d.props)d.props.hasOwnProperty(c)&&(b.props[c]=b.props[c]||d.props[c]);return b},e.configure=function(a){a=a||{},"undefined"!=typeof a.rememberValidation&&(s.rememberValidation=a.rememberValidation),"undefined"!=typeof a.compatibility&&(s.compatibility=a.compatibility)},e}var b;if("undefined"!=typeof module&&module.exports)module.exports=a(require("./async.js"),require("./id.js"),require("./is.js"),require("./Exception.js"));else if(window){if(!(window.polyn&&window.polyn.async&&window.polyn.id&&window.polyn.is&&window.polyn.Exception))return console.log("Unable to define module: LOADED OUT OF ORDER");b=a(window.polyn.async,window.polyn.id,window.polyn.is,window.polyn.Exception),Object.defineProperty(window.polyn,"Blueprint",{get:function(){return b},set:function(){var a=new Error("[POLYN] polyn modules are read-only");return console.log(a),a},enumerable:!0,configurable:!1})}else console.log("Unable to define module: UNKNOWN RUNTIME")}(),function(){"use strict";function a(a,b){function c(b){function c(c){var h,i={},k={};if(c=c||{},b.__skipValdation!==!0&&!a.validate(f,c).result){var l=new g(new Error("The argument passed to the constructor is not valid"),a.validate(f,c).errors);return j.onError(l),l}try{for(h in b)b.hasOwnProperty(h)&&"undefined"!=typeof c[h]?d(k,i,b,c,h):b.hasOwnProperty(h)&&e(k,h)}catch(a){return new g(a)}return k}var f;return b?(f=new a(b),c.merge=function(a,b){return new c(h(a,b))},c.toObject=function(a){return i(a,{})},c.validate=function(b,c){return a.validate(f,b,c)},c.log=function(a){a?console.log(c.toObject(a)):console.log(null)},c.__immutableCtor=!0,c):new g(new Error("A schema object, and values are required"))}function d(a,c,d,e,g){d[g],d[g].__immutableCtor?c[g]=new d[g](e[g]):c[g]=f(e[g]),Object.defineProperty(a,g,{get:function(){return c[g]},set:function(){var a=new b("ReadOnlyViolation",new Error("Cannot set `"+g+"`. This object is immutable"));return j.onError(a),a},enumerable:!0,configurable:!1})}function e(a,c){Object.defineProperty(a,c,{get:function(){return null},set:function(){var a=new b("ReadOnlyViolation",new Error("Cannot set `"+c+"`. This object is immutable"));return j.onError(a),a},enumerable:!0,configurable:!1})}function f(a){return a?"object"==typeof a&&"[object Date]"===Object.prototype.toString.call(a)?new Date(a):"object"==typeof a?JSON.parse(JSON.stringify(a)):JSON.parse(JSON.stringify(a)):a}function g(a,c){return new b("InvalidArgumentException",a,c)}function h(a,b){var c,d=i(a,!1);for(c in b)b.hasOwnProperty(c)&&"object"==typeof b[c]?d[c]=h(d[c],b[c]):b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function i(a,b){var c,d={};"undefined"==typeof b&&(b=!0);for(c in a)a.hasOwnProperty(c)&&"object"==typeof a[c]&&b?d[c]=i(a[c]):a.hasOwnProperty(c)&&(d[c]=f(a[c]));return d}var j={onError:function(a){console.log(a)}};return c.configure=function(a){a=a||{},"function"==typeof a.onError&&(j.onError=a.onError)},c}var b;if("undefined"!=typeof module&&module.exports)module.exports=a(require("./Blueprint.js"),require("./Exception.js"));else if(window){if(!window.polyn||!window.polyn.Blueprint||!window.polyn.Exception)return console.log("Unable to define module: LOADED OUT OF ORDER");b=a(window.polyn.Blueprint,window.polyn.Exception),Object.defineProperty(window.polyn,"Immutable",{get:function(){return b},set:function(){var a=new Error("[POLYN] polyn modules are read-only");return console.log(a),a},enumerable:!0,configurable:!1})}else console.log("Unable to define module: UNKNOWN RUNTIME")}();